<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Super Fireman Brothers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Super Fireman Brothers </h1><dl class="author"><dt><b>Authors:</b></dt><dd><ul>
<li>Alfonso Ros (<a href="mailto:alfonso@gia.usb.ve">alfonso@gia.usb.ve</a>)</li>
<li>Ismael Mendon√ßa (<a href="mailto:ismael@gia.usb.ve">ismael@gia.usb.ve</a>)</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="intro">
Introduction</a></h2>
<p>This application consist of a simple game that we called "Super Fireman
 Brothers". This applications uses the XBox Kinect sensor to track the player's moves.</p>
<p>The program is in C++ language. We have used the <a href="http://www.openni.org/">OpenNI</a> framework and the PrimeSense <a href="http://www.primesense.com/?p=515">NITE</a> middleware with the <a href="https://github.com/avin2/SensorKinect">avin2</a>. For install instrucction see the next section.</p>
<p>Also note the existence of the following directories:</p>
<ul>
<li><b>models</b><ul>
<li>Contains the obj models of <a class="el" href="classZamus.html" title="This class hanldes all aspects about the detection and information referred to the...">Zamus</a> and <a class="el" href="classLinq.html" title="This class hanldes all aspects about the detection and information referred to the...">Linq</a>. This files are loaded by the GLM library.</li>
</ul>
</li>
<li><b>config</b><ul>
<li>Contains the doxygen and the OpenNI context xml file.</li>
</ul>
</li>
<li><b>src</b><ul>
<li>Source files.</li>
</ul>
</li>
</ul>
<hr/>
 <h2><a class="anchor" id="installation">
How to install</a></h2>
<p>First of all, you must be sure to have this packages:</p>
<ul>
<li>GCC 4.x</li>
<li>Python 2.6+/3.x</li>
<li>LibUSB 1.0.8</li>
<li>OpenGL/GLUT</li>
</ul>
<p>To install this packages in Ubuntu just run the following for the missing packages.</p>
<ul>
<li>sudo apt-get install g++ python libusb-1.0-0-dev freeglut3-dev libjpeg-dev libpng-dev libglu1-mesa-dev mesa-common-dev</li>
</ul>
<p>Next you need to install the OpenNI. We used the unstable version. Here are the steps to install it. We use the git command so if you don't have it installed you cand run.</p>
<ol type="1">
<li>aptitude install git-core</li>
</ol>
<p>Ok here are the steps to install OpenNI:</p>
<ol type="1">
<li>mkdir ~/Kinect &amp;&amp; cd ~/Kinect</li>
<li>git clone <a href="https://github.com/OpenNI/OpenNI.git">https://github.com/OpenNI/OpenNI.git</a></li>
<li>cd OpenNI/Platform/Linux-x86/CreateRedist &amp;&amp; ./RedistMaker</li>
<li>cd ../Redist &amp;&amp; sudo ./install.sh</li>
</ol>
<p>That's all. Now we have OpenNI installed. Now we can install the avin2 diver.</p>
<ol type="1">
<li>cd ~/Kinect</li>
<li>git clone <a href="https://github.com/avin2/SensorKinect.git">https://github.com/avin2/SensorKinect.git</a></li>
<li>cd SensorKinect/Platform/Linux-x86/CreateRedist &amp;&amp; ./RedistMaker</li>
<li>cd ../Redist &amp;&amp; sudo ./install.sh</li>
</ol>
<p>Now we need to install the NITE middleware. We used Nite 1.3.0.18 (Unstable).</p>
<ol type="1">
<li>go to this page and <a href="http://www.openni.org/downloadfiles/openni-compliant-middleware-binaries/33-latest-unstable">download the latest NITE</a>.</li>
<li>Save the NITE tarball to ~/Kinect.</li>
<li>tar -jxvf NITE-Bin-Linux32-v1.3.0.18.tar.bz2</li>
<li>cd ~/kinect/NITE/Nite-1.3.0.18/Data</li>
<li>Edit all xml files and replace the license with this one "0KOIk2JeIBYClPWVnMoRKn5cdY4="</li>
<li>Also replace the MapOutputMode line to look like this "&lt;
  MapOutputMode xRes="640" yRes="480" FPS="30"/&gt;"</li>
<li>niLicense PrimeSense 0KOIk2JeIBYClPWVnMoRKn5cdY4=</li>
<li>cd ~/kinect/NITE/Nite-1.3.0.18/</li>
<li>sudo ./install.sh</li>
<li>make &amp;&amp; sudo make install</li>
</ol>
<p>All ready. Now we have the OpenNI, avin2 and NITE software installed. We only need to install GLM library to start playing.</p>
<ol type="1">
<li>mkdir ~/glm</li>
<li>Download the GLM library from this <a href="http://devernay.free.fr/hacks/glm/">page</a> and save it to ~/glm.</li>
<li>cd ~/glm &amp;&amp; tar -zxvf glm-0.3.1.tar.gz</li>
<li>cd glm-0.3.1/</li>
<li>./configure &amp;&amp; make &amp;&amp; sudo makeinstall</li>
</ol>
<p>Finally Super Fireman Brothers game.</p>
<ol type="1">
<li>Download it from this page to your ~/.</li>
<li>cd ~/ &amp;&amp; tar xzvf SuperFiremanBrothers-0.1.tar.gz</li>
<li>cd <a class="el" href="classSuperFiremanBrothers.html" title="This class handles the functions and methods for the Super Fireman Brothers game...">SuperFiremanBrothers</a></li>
<li>make</li>
<li>make documentation (optional)</li>
</ol>
<p>Run the game with:</p>
<ul>
<li>./Bin/Release/SuperFiremanBrothers</li>
</ul>
<hr/>
<h2><a class="anchor" id="playmode">
How to play</a></h2>
<p>The game is very simple to play. First you need to specify how many players will be on the game. This is done through the console. We have set a maximun of 3 players, because if there are too many players, the tracking gets difficult.</p>
<p>Once the number of players is set, it promps a window where the game will be displayed. Make sure that the Kinect is looking some open area, otherwise you may experiment some troubles with the floor tracking.</p>
<p>Step in front of the Kinect between 1.5 and 3 mts. You'll see a litle colored diamond appear in the window, this diamond represent your position.</p>
<div align="center">
<img src="calPose.jpg" alt="calPose.jpg"/>
<p><strong>Calibration pose</strong></p></div>
<p>Now you must make the calibration pose in order to get your skeleton tracked by the Kinect. Try to stay near the middle of the screen for faster/easier calibration. You must maintain this pose for a period of time until a stick figure appears in exchange of your diamond. This stick figure represents that the tracking of your body is been done.</p>
<p>Now is time to select one of two available characters of the game. One is an intergalactic fireman called <a class="el" href="classZamus.html" title="This class hanldes all aspects about the detection and information referred to the...">Zamus</a> and the other one is a mystic ice magician called <a class="el" href="classLinq.html" title="This class hanldes all aspects about the detection and information referred to the...">Linq</a> that can invoke the mighty power of freezed water from other dimentions.</p>
<p>To transform in <a class="el" href="classZamus.html" title="This class hanldes all aspects about the detection and information referred to the...">Zamus</a>, you must do the <a class="el" href="classZamus.html" title="This class hanldes all aspects about the detection and information referred to the...">Zamus</a> transformation pose once you are tracked as a stick figure.</p>
<div align="center">
<img src="zamus.jpg" alt="zamus.jpg"/>
<p><strong>Zamus transformation pose</strong></p></div>
 <div align="center">
<img src="zamus2.jpg" alt="zamus2.jpg"/>
<p><strong>Zamus transformation pose</strong></p></div>
<p>When you are transformed in <a class="el" href="classZamus.html" title="This class hanldes all aspects about the detection and information referred to the...">Zamus</a>, you can activate your water cannon with the activation pose and deactivate it with the deactivation pose as show below.</p>
<div align="center">
<img src="ZamusActivate.jpg" alt="ZamusActivate.jpg"/>
<p><strong>Zamus activate pose</strong></p></div>
 <div align="center">
<img src="ZamusDeactivate.jpg" alt="ZamusDeactivate.jpg"/>
<p><strong>Zamus deactivate pose</strong></p></div>
<p>Then you can fire if you maintain your arm straight.</p>
<div align="center">
<img src="ZamusShoot.jpg" alt="ZamusShoot.jpg"/>
<p><strong>Zamus shoot pose</strong></p></div>
<p>To transform in <a class="el" href="classLinq.html" title="This class hanldes all aspects about the detection and information referred to the...">Linq</a> you must make 3 poses sequentially.</p>
<div align="center">
<img src="Linq1.jpg" alt="Linq1.jpg"/>
<p><strong>Linq first pose</strong></p></div>
 <div align="center">
<img src="Linq2.jpg" alt="Linq2.jpg"/>
<p><strong>Linq second pose</strong></p></div>
 <div align="center">
<img src="Linq3.jpg" alt="Linq3.jpg"/>
<p><strong>Linq third pose</strong></p></div>
<p>To invoke the mighty power of ice you must bend your arm like the first figure, then you must put your arm straight like the second figure. Repeat this to invoke more ice.</p>
<div align="center">
<img src="LinqShoot1.jpg" alt="LinqShoot1.jpg"/>
<p><strong>Arm bended to charge mana</strong></p></div>
 <div align="center">
<img src="ZamusShoot.jpg" alt="ZamusShoot.jpg"/>
<p><strong>Arm straight to invoke ice</strong></p></div>
<p>Now you are ready to play. When all the player are calibrated and transformed, the game will begin. The fireballs will start to spawn and advance to your position. You must extinguish them or you are going to lose. Every level you pass will turn harder and harder. For every flame you extinguish you get more score. The objetive of the game is to get the higher score.</p>
<hr/>
 <h2><a class="anchor" id="notes">
release.notes</a></h2>
<p>release.notes Super Fireman Brothers v0.1, in order to run the application:</p>
<ul>
<li>Run make</li>
<li>Run make documentation (if you want the documentation)</li>
<li>Run the command ./SuperFiremanBrothers.</li>
</ul>
<hr/>
 <h2><a class="anchor" id="requirements">
requirements</a></h2>
<p>We implement all the application in <a href="http://www.ubuntu.com/">Ubuntu 10.10</a>.</p>
<p>To run the application first you will have to some dependencies are needed, download the following libraries, you could use "aptitude install" in Linux:</p>
<ul>
<li>GCC 4.x -- sudo apt-get install g++</li>
<li>Python 2.6+/3.x -- sudo apt-get install python</li>
<li>LibUSB 1.0.8 -- sudo apt-get install libusb-1.0-0-dev</li>
<li>OpenGL/GLUT -- sudo apt-get install libglu1-mesa-dev freeglut3-dev mesa-common-dev</li>
<li>Glm -- <a href="http://devernay.free.fr/hacks/glm/">http://devernay.free.fr/hacks/glm/</a></li>
</ul>
<p>Optional Requirements (To build the documentation):</p>
<ul>
<li>Doxygen -- sudo apt-get install doxygen</li>
<li>GraphViz -- sudo apt-get install graphviz</li>
</ul>
<p>Now you will have to install the OpenNI, SensorKinect and Nite drivers to get the application work:</p>
<ul>
<li>Unstable version of OpenNI-4c9ff97: <a href="https://github.com/OpenNI/OpenNI/tree/unstable">https://github.com/OpenNI/OpenNI/tree/unstable</a> or download directly from <a href="http://www.openni.org/downloadfiles/openni-binaries/20-latest-unstable.">http://www.openni.org/downloadfiles/openni-binaries/20-latest-unstable.</a></li>
</ul>
<ul>
<li>Sensor Kinect avin2 driver (Unstable): <a href="https://github.com/avin2/SensorKinect.">https://github.com/avin2/SensorKinect.</a></li>
</ul>
<ul>
<li>Nite 1.3.0.18 (Unstable): <a href="http://www.openni.org/downloadfiles/openni-compliant-middleware-binaries/33-latest-unstable">http://www.openni.org/downloadfiles/openni-compliant-middleware-binaries/33-latest-unstable</a> and you will have to introduce the next license key: 0KOIk2JeIBYClPWVnMoRKn5cdY4=</li>
</ul>
<p>This application was tested given successfull results in the following hardware:</p>
<ul>
<li>Hp pavilion dv2927la Notebook, Intel Core 2 Duo, RAM 3GB, Intel Corporation Mobile GM965/GL960 Integrated Graphics Controller.</li>
<li>Hp pavilion dv6000 Notebook, Intel Core 2 Duo, RAM 3GB, Intel Corporation Mobile GM965/GL960 Integrated Graphics Controller.</li>
</ul>
<hr/>
 <dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd><p class="startdd">There is some problems with the floor drawing related to the Kinect position, the floor drawing is done by detecting the floor area with the OpenNI functions and draw the pixels of the detected floor. If you place the Kinect in an area that you cannot see the floor it will be drawn in a wrong way so the application will not run effectively, the problems are experienced if the area you place the Kinect is really small or some objects obstruct the floor. Another way to draw the floor could be a good solution. </p>
<p>There is a system of listeners wich consists in classes that describe the different type of characters you can use, the abstract listener type could be improved in a way that the new user callback could be used directly to listen for <a class="el" href="classZamus.html" title="This class hanldes all aspects about the detection and information referred to the...">Zamus</a> or <a class="el" href="classLinq.html" title="This class hanldes all aspects about the detection and information referred to the...">Linq</a> types. </p>
<p class="enddd">Implement a way to win the game of Super Fireman Brothers, actually the game is intended for competing between players, the one with highest score is the winner. </p>
</dd></dl>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Apr 1 01:14:58 2011 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
